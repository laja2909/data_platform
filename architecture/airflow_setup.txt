1. vagrant ssh

2. install docker & docker-compose
--First, update your existing list of packages:
sudo apt update
--Next, install a few prerequisite packages which let apt use packages over HTTPS:
sudo apt install apt-transport-https ca-certificates curl software-properties-common
--Then add the GPG key for the official Docker repository to your system:
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
--Add the Docker repository to APT sources:
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable"
--Make sure you are about to install from the Docker repo instead of the default Ubuntu repo:
apt-cache policy docker-ce
--Finally, install Docker:
sudo apt install docker-ce
--Check that itâ€™s running:
sudo systemctl status docker

3. cd to airflow folder
cd /opt
cd /airflow

4. Create docker-compose yaml file for airflow
curl -LfO 'https://airflow.apache.org/docs/apache-airflow/2.6.2/docker-compose.yaml'

5. Create folders:
mkdir dags
mkdir plugins
mkdir logs

6. Create environment variables
echo -e "AIRFLOW_UID=$(id -u)\n AIRFLOW_GID=0" > .env

7. Build airflow using docker-compose 
sudo docker compose up airflow-init
--warning: You have not enough resources to run airflow: At least 4GB of memory required. You have 3.9
8. To run all services
sudo docker compose up
9. open browser and type:
http://192.168.1.200:8080
--It might take some time but it works.

--to do:
---check memory issue
---check how to properly start and run airflow after initialization
---check that non necessary log files are not written.
---check scheduler warnign: 
WARNING - OSError while attempting to symlink the latest log directory
---check if all services are needed: redis, triggerer etc. (yaml file)
---make a shell script to airflow to vagrant file. check vagrant shell script in google search